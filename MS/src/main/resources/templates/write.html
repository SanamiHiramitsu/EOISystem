<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
	<meta charset="UTF-8">
	<link th:href="@{/css/screenLayout.css}" rel="stylesheet"/>
	<link th:href="@{/css/button.css}" rel="stylesheet"/>
	<link th:href="@{/css/form.css}" rel="stylesheet"/>
	<!--  <link rel="stylesheet" type="text/css" th:href="@{/screenLayout.css}"/>
	<link rel="stylesheet" type="text/css" th:href="@{/button.css}"/>
	<link rel="stylesheet" type="text/css" th:href="@{/form.css}"/>-->
	
	<style type="text/css">
	body{
		font-family: monospace;
	}
	
	textarea{
		vertical-align: middle;
	}
	
	span.err{
		color: red;
	}
	
	label{
		display: block;
	}
	</style>

	<script>
	/*いったん非選択を解除する*/
	function change(){
		document.getElementById("mBranchNumber").disabled=false;
	}
	</script>
	<title th:text="${title}"></title>
</head>
<body>

	<!-- 画面サイズ指定 -->
	<div id="Displaysize">
		<!-- タイトル・トップボタン -->
		<div
			class="box"
			style="width: 100%;
			border-bottom: 1px solid #000000;
			height: 52px;
			text-align: center;"
		>
			<h2
				th:text="${title}"
				style="position: relative;
				top: 0px;
				font-size: 25px;
				text-align: center;
				font-weight: bold;"
			></h2>
		</div>
		<a
			th:href="@{/index}"
			class="BUTTON"
		>トップ</a>
		<form style="text-align:center;" th:action="@{/logout}" method="post">
			<input class="LOGOUTBUTTON" style="top:-100px;" type="submit" value="ログアウト" />
		</form>
		
		<p th:if="${title == '　　　　　　削除確認　　　　　　'}"></p>
		<!-- 見積入力画面 -->
		<form
			th:action="@{/insertEstimate}"
			th:object="${form}"
			th:if="${title}==' 　　　　　見積新規入力　　　　　'"
			method="post"
		>
			<p class="center">
				見積書No　　　　
				<input
					type="text"
					th:field="*{number}"
					class="form4"
					maxlength="7"
					minlength="7"
					style="text-align: center;"
					required
				/>
				-
				<select
					th:field="*{mBranchNumber}"
					class="form5"
					size="1"
					style="text-align: center;
					width: 54px;
					height: 20px;"
					required
				>
					<option value="1">1</option>
					<option value="2">2</option>
					<option value="3">3</option>
					<option value="4">4</option>
					<option value="5">5</option>
					<option value="6">6</option>
					<option value="7">7</option>
					<option value="8">8</option>
					<option value="9">9</option>
					<option value="10">10</option>
					<option value="11">11</option>
					<option value="12">12</option>
					<option value="13">13</option>
					<option value="14">14</option>
					<option value="15">15</option>
					<option value="16">16</option>
					<option value="17">17</option>
					<option value="18">18</option>
					<option value="19">19</option>
					<option value="20">20</option>
					<option value="21">21</option>
					<option value="22">22</option>
					<option value="23">23</option>
					<option value="24">24</option>
					<option value="25">25</option>
					<option value="26">26</option>
					<option value="27">27</option>
					<option value="28">28</option>
					<option value="29">29</option>
					<option value="30">30</option>
					<option value="31">31</option>
					<option value="32">32</option>
					<option value="33">33</option>
					<option value="34">34</option>
					<option value="35">35</option>
					<option value="36">36</option>
					<option value="37">37</option>
					<option value="38">38</option>
					<option value="39">39</option>
					<option value="40">40</option>
					<option value="41">41</option>
					<option value="42">42</option>
					<option value="43">43</option>
					<option value="44">44</option>
					<option value="45">45</option>
					<option value="46">46</option>
					<option value="47">47</option>
					<option value="48">48</option>
					<option value="49">49</option>
					<option value="50">50</option>
				</select>
				<input
					type="hidden"
					th:field="*{sBranchNumber}"
					class="form"
					maxlength="3"
					style="text-align: center;"
				/>
				<span
					th:if="${#fields.hasErrors('number')}"
					th:errors="*{number}"
					class="err"
				></span>
			</p>
			<input
				th:if="${title}==' 　　　　　見積新規入力　　　　　'"
				type="submit"
				value="登録"
				class="BUTTON3"
			/>
		</form>
		<!-- 見積書No重複エラー -->
		<form
			th:action="@{/insertEstimate}"
			th:object="${form}"
			th:if="${title}=='この見積書Noは既に存在しています'"
			method="post"
		>
			<p class="center">
				見積書No　　　　
				<input
					type="text"
					th:field="*{number}"
					class="form4"
					minlength="7"
					maxlength="7"
					disabled
					style="text-align: center;"
					required
				/>
				-
				<select
					th:field="*{mBranchNumber}"
					class="form5"
					size="1"
					disabled
					style="text-align: center;
					width: 54px;
					height: 20px;"
					required
				>
					<option value="1">1</option>
					<option value="2">2</option>
					<option value="3">3</option>
					<option value="4">4</option>
					<option value="5">5</option>
					<option value="6">6</option>
					<option value="7">7</option>
					<option value="8">8</option>
					<option value="9">9</option>
					<option value="10">10</option>
					<option value="11">11</option>
					<option value="12">12</option>
					<option value="13">13</option>
					<option value="14">14</option>
					<option value="15">15</option>
					<option value="16">16</option>
					<option value="17">17</option>
					<option value="18">18</option>
					<option value="19">19</option>
					<option value="20">20</option>
					<option value="21">21</option>
					<option value="22">22</option>
					<option value="23">23</option>
					<option value="24">24</option>
					<option value="25">25</option>
					<option value="26">26</option>
					<option value="27">27</option>
					<option value="28">28</option>
					<option value="29">29</option>
					<option value="30">30</option>
					<option value="31">31</option>
					<option value="32">32</option>
					<option value="33">33</option>
					<option value="34">34</option>
					<option value="35">35</option>
					<option value="36">36</option>
					<option value="37">37</option>
					<option value="38">38</option>
					<option value="39">39</option>
					<option value="40">40</option>
					<option value="41">41</option>
					<option value="42">42</option>
					<option value="43">43</option>
					<option value="44">44</option>
					<option value="45">45</option>
					<option value="46">46</option>
					<option value="47">47</option>
					<option value="48">48</option>
					<option value="49">49</option>
					<option value="50">50</option>
				</select>
				<input
					type="hidden"
					th:field="*{sBranchNumber}"
					class="form"
					maxlength="3"
					style="text-align: center;"
				/>
				<span
					th:if="${#fields.hasErrors('number')}"
					th:errors="*{number}"
					class="err"
				></span>
			</p>
			<input
				th:if="${title}=='この見積書Noは既に存在しています'"
				onclick="history.back()"
				value="戻る"
				class="BUTTON3"
			/>
		</form>
		<!-- 見積書入力内容 -->
		<form
			th:action="@{/insertEstimate}"
			th:object="${form}"
			th:if="${title}=='　　　　　見積新規入力　　　　　'"
			method="post"
		>
			<p class="center">
				見積書No　　　　
				<input
					type="text"
					th:field="*{number}"
					class="form4"
					maxlength="7"
					style="text-align: center;"
					required
				/>
				-
				<select
					th:field="*{mBranchNumber}"
					class="form5"
					size="1"
					style="text-align: center;
					width: 54px;
					height: 20px;"
					required
				>
					<option value="1">1</option>
					<option value="2">2</option>
					<option value="3">3</option>
					<option value="4">4</option>
					<option value="5">5</option>
					<option value="6">6</option>
					<option value="7">7</option>
					<option value="8">8</option>
					<option value="9">9</option>
					<option value="10">10</option>
					<option value="11">11</option>
					<option value="12">12</option>
					<option value="13">13</option>
					<option value="14">14</option>
					<option value="15">15</option>
					<option value="16">16</option>
					<option value="17">17</option>
					<option value="18">18</option>
					<option value="19">19</option>
					<option value="20">20</option>
					<option value="21">21</option>
					<option value="22">22</option>
					<option value="23">23</option>
					<option value="24">24</option>
					<option value="25">25</option>
					<option value="26">26</option>
					<option value="27">27</option>
					<option value="28">28</option>
					<option value="29">29</option>
					<option value="30">30</option>
					<option value="31">31</option>
					<option value="32">32</option>
					<option value="33">33</option>
					<option value="34">34</option>
					<option value="35">35</option>
					<option value="36">36</option>
					<option value="37">37</option>
					<option value="38">38</option>
					<option value="39">39</option>
					<option value="40">40</option>
					<option value="41">41</option>
					<option value="42">42</option>
					<option value="43">43</option>
					<option value="44">44</option>
					<option value="45">45</option>
					<option value="46">46</option>
					<option value="47">47</option>
					<option value="48">48</option>
					<option value="49">49</option>
					<option value="50">50</option>
				</select>
				<input
					type="hidden"
					th:field="*{sBranchNumber}"
					class="form"
					maxlength="3"
					style="text-align: center;"
				/>
				<span
					th:if="${#fields.hasErrors('number')}"
					th:errors="*{number}"
					class="err"
				></span>
			</p>
			<p class="center">
				作成者　　　　　
				<input
					type="text"
					th:field="*{mauthor}"
					class="form"
					required
					style="text-align: center;"
				/>
				<span
					th:if="${#fields.hasErrors('mauthor')}"
					th:errors="*{mauthor}"
					class="err"
				></span>
			</p>
			<p class="center">
				作成日　　　　　
				<input
					type="date"
					th:field="*{mDate}"
					class="form"
					required
					max="9999-12-31"
					style="text-align: center;"
				/>
			</p>
			<p class="center">
				得意先名　　　　
				<input
					type="text"
					th:field="*{company}"
					class="form"
					style="text-align: center;"
					required
				/>
				<span
					th:if="${#fields.hasErrors('company')}"
					th:errors="*{company}"
					class="err"
				></span>
			</p>
			<p class="center">
				プロジェクト名　
				<input
					type="text"
					th:field="*{project}"
					class="form"
					style="text-align: center;"
					required
				/>
				<span
					th:if="${#fields.hasErrors('project')}"
					th:errors="*{project}"
					class="err"
				></span>
			</p>
			<p class="center">
				作業者名　　　　
				<input
					type="text"
					th:field="*{name}"
					class="form"
					style="text-align: center;"
					required
				/>
				<span
					th:if="${#fields.hasErrors('name')}"
					th:errors="*{name}"
					class="err"
				></span>
			</p>
			<label class="center">
				期間開始日　　　
				<input
					type="date"
					th:field="*{startPeriod}"
					id="start"
					class="form"
					required
					max="9999-12-31"
					style="text-align: center;"
				/>
				<span
					th:if="${#fields.hasErrors('startPeriod')}"
					th:errors="*{startPeriod}"
					class="err"
				></span>
			</label>
			<br>
			<label class="center">
				期間終了日　　　
				<input
					type="date"
					th:field="*{endPeriod}"
					id="end"
					class="form"
					required
					max="9999-12-31"
					style="text-align: center;"
				/>
				<span
					th:if="${#fields.hasErrors('endPeriod')}"
					th:errors="*{endPeriod}"
					class="err"
				></span>
			</label>
			<div class="newSelecter">
				<p class="center">
					お支払い条件　　
					<select
						th:field="*{payment}"
						id="changeSelect"
						class="form"
						style="text-align: center;"
						onchange="choiceChanges();"
					>
						<option value="月末締め翌月末日">月末締め翌月末日</option>
						<option
							value="月末締め翌々月5日"
							selected
						>月末締め翌々月5日</option>
						<option
							value="月末締め翌々月10日"
							selected
						>月末締め翌々月10日</option>
						<option value="月末締め翌々月15日">月末締め翌々月15日</option>
						<option value="その他">その他</option>
					</select>
			</div>
			<div id="newBox">
				<p class="center">　　　　　　　　　
					<select
						th:field="*{paymentMonth}"
						size="1"
						style="text-align: center;"
					>
						<option value="月末締め翌月">月末締め翌月</option>
						<option value="月末締め翌々月">月末締め翌々月</option>
					</select>
					の
					<input
						type="text"
						th:field="*{paymentDay}"
						size="2"
						style="text-align: center;"
						class="form13"
					>
					日払い
				</p>
			</div>
			<p class="center">
				　　　　 　 　基準時間 　　　
				<input
					type="radio"
					class="js-check"
					th:field="*{referenceTime}"
					name="referencetime"
					value="固定"
					required
					onclick="formSwitch()"
					style="text-align: center;"
				/>
				固定　　
				<input
					type="radio"
					th:field="*{referenceTime}"
					name="referencetime"
					value="精算"
					class="js-check"
					onclick="formSwitch()"
					style="text-align: center;"
				/>
				精算　　　　　　　　　　　
			</p>
			<div
				id="referencetime"
				class="center"
			>
				<p class="center">　　　　　　　　　
					<input
						type="tel"
						th:field="*{lowerLimitTime}"
						maxlength="3"
						class="form10"
						style="text-align: center;"
					/>
					h　～　
					<input
						type="tel"
						th:field="*{upperLimitTime}"
						maxlength="3"
						class="form10"
						style="text-align: center;"
					/>
					h
				</p>
				<p class="center">
					　※中割計算
					<input
						type="checkbox"
						th:field="*{middleDiscount}"
						name="othertext"
						value="中割"
						style="text-align: center;"
					/>
				</p>
				<p class="center">
					　　　　　　　控除・超過単価切り捨て単位
					<br>
					　　　 <input
						type="radio"
						th:field="*{unit}"
						value="10"
						style="text-align: center;"
					/>
					10円未満切り捨て
					<br>
					　　　　　<input
						type="radio"
						th:field="*{unit}"
						value="100"
						style="text-align: center;"
					/>
					100円未満切り捨て　
				</p>
			</div>
			<div class="center">
				単価（税抜き）　
				<input
					type="tel"
					data-type="number"
					th:field="*{value}"
					class="form16"
					style="text-align: center;"
					autocomplete="off"
					required
				/>
				<span
					th:if="${#fields.hasErrors('value')}"
					th:errors="*{value}"
					class="err"
				></span>　
				<div>
					<br> 　　　　
					<input
						type="checkbox"
						th:field="*{thousandCuts}"
						name="othertext"
						value="1000"
						style="text-align: center;"
					/>
					1000円未満切り捨て
					<br>　　　　　　　　　　　　　　　
					※期間開始日が平日の1日でない月のみ反映されます。
				</div>
				<p>
					<input
						th:if="${title}=='　　　　　見積新規入力　　　　　'"
						type="submit"
						value="登録"
						class="BUTTON3"
					/>
				</p>
			</div>
		</form>
		<!-- 更新入力画面 -->
		<form
			th:action="@{/insertFix}"
			th:object="${form}"
			th:if="${title}=='　　　　　 見積書更新 　　　　　　'"
			method="post"
			name="form1"
			action=""
		>
			<!-- 更新入力内容 -->
			<p class="center">
				見積書No　　　　
				<input
					type="text"
					th:field="*{number}"
					class="form4"
					disabled
					style="text-align: center;"
					required
				/>
				-
				<select
					th:field="*{mBranchNumber}"
					class="form14"
					onchange="clearTextarea()"
					size="1"
					style="text-align: center;"
					required
				>
					<option value="1">1</option>
					<option value="2">2</option>
					<option value="3">3</option>
					<option value="4">4</option>
					<option value="5">5</option>
					<option value="6">6</option>
					<option value="7">7</option>
					<option value="8">8</option>
					<option value="9">9</option>
					<option value="10">10</option>
					<option value="11">11</option>
					<option value="12">12</option>
					<option value="13">13</option>
					<option value="14">14</option>
					<option value="15">15</option>
					<option value="16">16</option>
					<option value="17">17</option>
					<option value="18">18</option>
					<option value="19">19</option>
					<option value="20">20</option>
					<option value="21">21</option>
					<option value="22">22</option>
					<option value="23">23</option>
					<option value="24">24</option>
					<option value="25">25</option>
					<option value="26">26</option>
					<option value="27">27</option>
					<option value="28">28</option>
					<option value="29">29</option>
					<option value="30">30</option>
					<option value="31">31</option>
					<option value="32">32</option>
					<option value="33">33</option>
					<option value="34">34</option>
					<option value="35">35</option>
					<option value="36">36</option>
					<option value="37">37</option>
					<option value="38">38</option>
					<option value="39">39</option>
					<option value="40">40</option>
					<option value="41">41</option>
					<option value="42">42</option>
					<option value="43">43</option>
					<option value="44">44</option>
					<option value="45">45</option>
					<option value="46">46</option>
					<option value="47">47</option>
					<option value="48">48</option>
					<option value="49">49</option>
					<option value="50">50</option>
				</select>
				<input
					type="hidden"
					th:field="*{sBranchNumber}"
					class="form14"
					maxlength="3"
					style="text-align: center;"
				/>
				<span
					th:if="${#fields.hasErrors('number')}"
					th:errors="*{number}"
					class="err"
				></span>
			</p>
			<p class="center">
				作成者　　　　　
				<input
					type="text"
					th:field="*{mauthor}"
					class="form"
					required
					style="text-align: center;"
				/>
				<span
					th:if="${#fields.hasErrors('mauthor')}"
					th:errors="*{mauthor}"
					class="err"
				></span>
			</p>
			<div id="a">
				<p class="center">
					作成日　　　　　
					<input
						type="date"
						id="mdate"
						th:field="*{mDate}"
						class="form"
						required
						max="9999-12-31"
						style="text-align: center;"
					/>
				</p>
			</div>
			<p class="center">
				得意先名　　　　
				<input
					type="text"
					th:field="*{company}"
					class="form"
					style="text-align: center;"
					required
				/>
				<span
					th:if="${#fields.hasErrors('company')}"
					th:errors="*{company}"
					class="err"
				></span>
			</p>
			<p class="center">
				プロジェクト名　
				<input
					type="text"
					th:field="*{project}"
					class="form"
					style="text-align: center;"
					required
				/>
				<span
					th:if="${#fields.hasErrors('project')}"
					th:errors="*{project}"
					class="err"
				></span>
			</p>
			<p class="center">
				作業者名　　　　
				<input
					type="text"
					th:field="*{name}"
					class="form"
					style="text-align: center;"
					required
				/>
				<span
					th:if="${#fields.hasErrors('name')}"
					th:errors="*{name}"
					class="err"
				></span>
			</p>
			<label class="center">
				期間開始日　　　
				<input
					type="date"
					th:field="*{startPeriod}"
					id="start"
					class="form"
					required
					max="9999-12-31"
					style="text-align: center;"
				/>
				<span
					th:if="${#fields.hasErrors('startPeriod')}"
					th:errors="*{startPeriod}"
					class="err"
				></span>
			</label>
			<br>
			<label class="center">
				期間終了日　　　
				<input
					type="date"
					th:field="*{endPeriod}"
					id="end"
					class="form"
					required
					max="9999-12-31"
					style="text-align: center;"
				/>
				<span
					th:if="${#fields.hasErrors('endPeriod')}"
					th:errors="*{endPeriod}"
					class="err"
				></span>
			</label>
			<div class="renewalPaymentTerms">
				<p class="center">
					お支払い条件　　
					<select
						th:field="*{payment}"
						id="otherseLectionChanges"
						class="form"
						style="text-align: center;"
						name="hoge"
						onchange="changePaymentDateSelection();"
					>
						<option value="月末締め翌月末日">月末締め翌月末日</option>
						<option
							value="月末締め翌々月5日"
							selected
						>月末締め翌々月5日</option>
						<option
							value="月末締め翌々月10日"
							selected
						>月末締め翌々月10日</option>
						<option value="月末締め翌々月15日">月末締め翌々月15日</option>
						<option value="その他">その他</option>
					</select>
			</div>
			<div id="changePaymentDate">
				<p class="center">　　　　　　　　　
					<select
						th:field="*{paymentMonth}"
						size="1"
						id="paymentMonth"
						style="text-align: center;"
					>
						<option value="月末締め翌月">月末締め翌月</option>
						<option value="月末締め翌々月">月末締め翌々月</option>
					</select>
					の
					<input
						type="text"
						th:field="*{paymentDay}"
						class="form13"
						style="text-align: center;"
						id="paymentDay"
					>
					日払い
				</p>
			</div>
			<p class="center">
				　　　　 　 　基準時間 　　　
				<input
					type="radio"
					class="js-check"
					th:field="*{referenceTime}"
					name="referencetime"
					value="固定"
					required
					onclick="formSwitch()"
					style="text-align: center;"
				/>
				固定　　
				<input
					type="radio"
					th:field="*{referenceTime}"
					name="referencetime"
					value="精算"
					class="js-check"
					onclick="formSwitch()"
					style="text-align: center;"
				/>
				精算　　　　　　　　　　　
			</p>
			<div
				id="referencetime"
				class="center"
			>
				<p class="center">　　　　　　　　　
					<input
						type="tel"
						th:field="*{lowerLimitTime}"
						maxlength="3"
						class="form10"
						style="text-align: center;"
					/>
					h　～　
					<input
						type="tel"
						th:field="*{upperLimitTime}"
						maxlength="3"
						class="form10"
						style="text-align: center;"
					/>
					h
				</p>
				<p class="center">
					　※中割計算
					<input
						type="checkbox"
						th:field="*{middleDiscount}"
						name="othertext"
						value="中割"
						style="text-align: center;"
					/>
				</p>
				<p class="center">
					　　　　　　　控除・超過単価切り捨て単位
					<br>
					　　　 <input
						type="radio"
						th:field="*{unit}"
						value="10"
						style="text-align: center;"
					/>
					10円未満切り捨て
					<br>
					　　　　　<input
						type="radio"
						th:field="*{unit}"
						value="100"
						style="text-align: center;"
					/>
					100円未満切り捨て　
				</p>
			</div>
			<div class="center">
				単価（税抜き）　
				<input
					type="tel"
					data-type="number"
					th:field="*{value}"
					class="form16"
					style="text-align: center;"
					autocomplete="off"
					required
				/>
				<span
					th:if="${#fields.hasErrors('value')}"
					th:errors="*{value}"
					class="err"
				></span>　
				<div>
					<br> 　　　　
					<input
						type="checkbox"
						th:field="*{thousandCuts}"
						name="othertext"
						value="1000"
						style="text-align: center;"
					/>
					1000円未満切り捨て
					<br>　　　　　　　　　　　　　　　
					※期間開始日が平日の1日でない月のみ反映されます。
				</div>
			</div>
			<th:block
				th:if="${form.acceptanceDate != null}"
			>
				<p class="center">
					<input
						type="hidden"
						th:field="*{acceptanceDate}"
						class="form"
						style="text-align: center;"
					>
				</p>
				<!-- 処理 -->
			</th:block>
			<p class="center">
				<input
					type="hidden"
					th:field="*{workingDay}"
					class="form"
					style="text-align: center;"
				>
			</p>
			<p class="center">
				<input
					type="hidden"
					th:field="*{sauthor}"
					class="form6"
					style="text-align: center;"
				/>
			</p>
			<p
				th:if="${form.referenceTime != '固定'}"
				class="center"
			>
				<input
					type="hidden"
					th:field="*{actualWorkingHours}"
					class="form9"
					style="text-align: center;"
				>
			</p>
			<input
				type="hidden"
				th:field="*{number}"
				class="form"
			/>
			<input
				type="submit"
				value="更新"
				class="BUTTON3"
				tabindex="18"
			/>
		</form>
		<!-- 削除確認画面 -->
		<form
			th:action="@{/deleteData}"
			th:object="${form}"
			th:if="${title}=='　　　　　　削除確認　　　　　　'"
			method="post"
			onsubmit="return beforeSubmit()"
			name="form1"
			action=""
		>
			<!-- 削除確認内容 -->
			<p class="center">
				見積書No　　　　
				<input
					type="text"
					th:field="*{number}"
					class="form4"
					disabled
					style="text-align: center;"
				/>
				-
				<select
					th:field="*{mBranchNumber}"
					class="form14"
					onchange="clearTextarea()"
					size="1"
					style="text-align: center;"
					disabled
				>
					<option value="1">1</option>
					<option value="2">2</option>
					<option value="3">3</option>
					<option value="4">4</option>
					<option value="5">5</option>
					<option value="6">6</option>
					<option value="7">7</option>
					<option value="8">8</option>
					<option value="9">9</option>
					<option value="10">10</option>
					<option value="11">11</option>
					<option value="12">12</option>
					<option value="13">13</option>
					<option value="14">14</option>
					<option value="15">15</option>
					<option value="16">16</option>
					<option value="17">17</option>
					<option value="18">18</option>
					<option value="19">19</option>
					<option value="20">20</option>
					<option value="21">21</option>
					<option value="22">22</option>
					<option value="23">23</option>
					<option value="24">24</option>
					<option value="25">25</option>
					<option value="26">26</option>
					<option value="27">27</option>
					<option value="28">28</option>
					<option value="29">29</option>
					<option value="30">30</option>
					<option value="31">31</option>
					<option value="32">32</option>
					<option value="33">33</option>
					<option value="34">34</option>
					<option value="35">35</option>
					<option value="36">36</option>
					<option value="37">37</option>
					<option value="38">38</option>
					<option value="39">39</option>
					<option value="40">40</option>
					<option value="41">41</option>
					<option value="42">42</option>
					<option value="43">43</option>
					<option value="44">44</option>
					<option value="45">45</option>
					<option value="46">46</option>
					<option value="47">47</option>
					<option value="48">48</option>
					<option value="49">49</option>
					<option value="50">50</option>
				</select>
				<input
					type="hidden"
					th:field="*{sBranchNumber}"
					class="form14"
					maxlength="3"
					style="text-align: center;"
				/>
				<span
					th:if="${#fields.hasErrors('number')}"
					th:errors="*{number}"
					class="err"
				></span>
			</p>
			<p class="center">
				作成者　　　　　
				<input
					type="text"
					disabled
					th:field="*{mauthor}"
					class="form"
					readonly
					style="text-align: center;"
				/>
				<span
					th:if="${#fields.hasErrors('mauthor')}"
					th:errors="*{mauthor}"
					class="err"
				></span>
			</p>
			<div id="a">
				<p class="center">
					作成日　　　　　
					<input
						type="date"
						disabled
						id="mdate"
						th:field="*{mDate}"
						readonly
						class="form"
						max="9999-12-31"
						style="text-align: center;"
					/>
				</p>
			</div>
			<p class="center">
				得意先名　　　　
				<input
					type="text"
					disabled
					th:field="*{company}"
					readonly
					class="form"
					style="text-align: center;"
				/>
				<span
					th:if="${#fields.hasErrors('company')}"
					th:errors="*{company}"
					class="err"
				></span>
			</p>
			<p class="center">
				プロジェクト名　
				<input
					type="text"
					disabled
					th:field="*{project}"
					readonly
					class="form"
					style="text-align: center;"
				/>
				<span
					th:if="${#fields.hasErrors('project')}"
					th:errors="*{project}"
					class="err"
				></span>
			</p>
			<p class="center">
				作業者名　　　　
				<input
					type="text"
					disabled
					th:field="*{name}"
					readonly
					class="form"
					style="text-align: center;"
				/>
				<span
					th:if="${#fields.hasErrors('name')}"
					th:errors="*{name}"
					class="err"
				></span>
			</p>
			<label class="center">
				期間開始日　　　
				<input
					type="date"
					disabled
					th:field="*{startPeriod}"
					id="start"
					readonly
					class="form"
					max="9999-12-31"
					style="text-align: center;"
				/>
				<span
					th:if="${#fields.hasErrors('startPeriod')}"
					th:errors="*{startPeriod}"
					class="err"
				></span>
			</label>
			<br>
			<label class="center">
				期間終了日　　　
				<input
					type="date"
					disabled
					th:field="*{endPeriod}"
					id="end"
					readonly
					class="form"
					max="9999-12-31"
					style="text-align: center;"
				/>
				<span
					th:if="${#fields.hasErrors('endPeriod')}"
					th:errors="*{endPeriod}"
					class="err"
				></span>
			</label>
			<div class="renewalPaymentTerms">
				<p class="center">
					お支払い条件　　
					<select
						th:field="*{payment}"
						id="otherseLectionChanges"
						disabled
						class="form"
						style="text-align: center;"
						name="hoge"
						onchange="changePaymentDateSelection();"
					>
						<option value="月末締め翌月末日">月末締め翌月末日</option>
						<option
							value="月末締め翌々月5日"
							selected
						>月末締め翌々月5日</option>
						<option
							value="月末締め翌々月10日"
							selected
						>月末締め翌々月10日</option>
						<option value="月末締め翌々月15日">月末締め翌々月15日</option>
						<option value="その他">その他</option>
					</select>
			</div>
			<div id="changePaymentDate">
				<p class="center">　　　　　　　　　
					<select
						th:field="*{paymentMonth}"
						size="1"
						id="paymentMonth"
						disabled
						style="text-align: center;"
					>
						<option value="月末締め翌月">月末締め翌月</option>
						<option value="月末締め翌々月">月末締め翌々月</option>
					</select>
					の
					<input
						type="text"
						th:field="*{paymentDay}"
						class="form13"
						style="text-align: center;"
						readonly
						id="paymentDay"
						disabled
					>
					日払い
				</p>
			</div>
			<p class="center">
				　　　　 　 　基準時間 　　　
				<input
					type="radio"
					class="js-check"
					th:field="*{referenceTime}"
					name="referencetime"
					value="固定"
					onclick="formSwitch()"
					style="text-align: center;"
					readonly="readonly"
					disabled
				/>
				固定　　
				<input
					type="radio"
					th:field="*{referenceTime}"
					name="referencetime"
					value="精算"
					class="js-check"
					onclick="formSwitch()"
					readonly="readonly"
					style="text-align: center;"
					disabled
				/>
				精算　　　　　　　　　　　
			</p>
			<div
				id="referencetime"
				class="center"
			>
				<p class="center">　　　　　　　　　
					<input
						type="tel"
						th:field="*{lowerLimitTime}"
						maxlength="3"
						class="form10"
						readonly
						id="lowerLimitTime"
						name="othertext"
						style="text-align: center;"
						disabled
					/>
					h　～　
					<input
						type="tel"
						th:field="*{upperLimitTime}"
						maxlength="3"
						class="form10"
						id="upperLimitTime"
						name="othertext"
						style="text-align: center;"
						readonly
						disabled
					>
					h
				</p>
				<p class="center">
					　※中割計算
					<input
						type="checkbox"
						th:field="*{middleDiscount}"
						onclick="return false;"
						id="middleDiscount"
						name="othertext"
						value="中割"
						style="text-align: center;"
						disabled
					/>
				</p>
				<p class="center">
					　　　　　　　控除・超過単価切り捨て単位
					<br>
					　　　 <input
						type="radio"
						th:field="*{unit}"
						name="unit"
						value="10"
						onclick="return false;"
						style="text-align: center;"
						disabled
					/>
					10円未満切り捨て
					<br>
					　　　　　<input
						type="radio"
						th:field="*{unit}"
						name="unit"
						onclick="return false;"
						value="100"
						style="text-align: center;"
						disabled
					/>
					100円未満切り捨て　
				</p>
			</div>
			<div class="center">
				単価（税抜き）　
				<input
					type="tel"
					disabled
					readonly
					data-type="number"
					th:field="*{value}"
					class="form16"
					style="text-align: center;"
					autocomplete="off"
				/>
				<span
					th:if="${#fields.hasErrors('value')}"
					th:errors="*{value}"
					class="err"
				></span>　
				<div>
					<br> 　　　　
					<input
						type="checkbox"
						th:field="*{thousandCuts}"
						name="othertext"
						value="1000"
						disabled
						style="text-align: center;"
					/>
					1000円未満切り捨て
					<br>　　　　　　　　　　　　　　　
					※期間開始日が平日の1日でない月のみ反映されます。
				</div>
			</div>
			<th:block
				th:if="${form.acceptanceDate != null}"
			>
				<p class="center">
					<input
						type="hidden"
						th:field="*{acceptanceDate}"
						class="form"
						style="text-align: center;"
					>
				</p>
				<!-- 処理 -->
			</th:block>
			<p class="center">
				<input
					type="hidden"
					th:field="*{workingDay}"
					class="form"
					style="text-align: center;"
				>
			</p>
			<p class="center">
				<input
					type="hidden"
					th:field="*{sauthor}"
					class="form6"
					style="text-align: center;"
				/>
			</p>
			<p
				th:if="${form.referenceTime != '固定'}"
				class="center"
			>
				<input
					type="hidden"
					th:field="*{actualWorkingHours}"
					class="form9"
					style="text-align: center;"
				>
			</p>
			<p
				class="center"
				style="display: none;"
			>
				del
				<select
					th:field="*{del}"
					class="form14"
					onchange="clearTextarea()"
					size="1"
					style="text-align: center;"
				>
					<option value="1">1</option>
				</select>
				<input
					type="hidden"
					th:field="*{number}"
					class="form"
				/>
			<p>
				<input
					type="submit"
					value="削除"
					class="BUTTON3"
				/>
			</p>
		</form>
		<!-- 請求データ作成画面 -->
		<form
			th:action="@{/insertInvoice}"
			th:object="${form}"
			th:if="${title}=='　　　　 請求データ入力 　　　　'"
			method="post"
		>
			<!-- 請求データ入力内容 -->
			<p class="center">
				見積書No　　　　
				<input
					type="text"
					th:field="*{number}"
					disabled
					class="form4"
					style="text-align: center;"
				/>
				-
				<input
					type="text"
					id="mBranchNumber"
					disabled
					th:field="*{mBranchNumber}"
					class="form7"
					style="text-align: center;"
				>
				-
				<input
					type="text"
					name="sBranchNumber"
					class="form7"
					maxlength="3"
					style="text-align: center;"
					autocomplete="off"
					required
				>
 				<span
					th:if="${#fields.hasErrors('sBranchNumber')}"
					th:errors="*{sBranchNumber}"
					class="err"
				></span>
			</p>
			<p class="center">
				<input
					type="hidden"
					th:field="*{mauthor}"
					class="form"
					style="text-align: center;"
				/>
			</p>
			<p class="center">
				作成者　　　　　
				<input
					type="text"
					th:field="*{sauthor}"
					class="form6"
					maxlength="20"
					required
					style="text-align: center;"
				/>
			</p>
			<p class="center">
				期間　　　　　　
				<input
					type="text"
					th:value="*{startPeriodYear}+'年'+*{correctSPM}+'月'+*{correctSPD}+'日～'+*{endPeriodYear}+'年'+*{correctEPM}+'月'+*{correctEPD}+'日'"
					disabled
					class="form6"
					style="text-align: center;"
				/>
			</p>
			<p class="center">
				<input
					type="hidden"
					th:field="*{mDate}"
					class="form"
					style="text-align: center;"
				/>
			</p>
			<p>
				<input
					type="hidden"
					th:field="*{company}"
					class="form"
					style="text-align: center;"
				/>
				<span
					th:if="${#fields.hasErrors('company')}"
					th:errors="*{company}"
					class="err"
				></span>
			</p>
			<p>
				<input
					type="hidden"
					th:field="*{project}"
					class="form"
					style="text-align: center;"
				/>
				<span
					th:if="${#fields.hasErrors('project')}"
					th:errors="*{project}"
					class="err"
				></span>
			</p>
			<p>
				<input
					type="hidden"
					th:field="*{name}"
					class="form"
					style="text-align: center;"
				/>
				<span
					th:if="${#fields.hasErrors('name')}"
					th:errors="*{name}"
					class="err"
				></span>
			</p>
			<p>
				<input
					type="hidden"
					th:field="*{startPeriod}"
					class="form"
					style="text-align: center;"
				>
				<span
					th:if="${#fields.hasErrors('startPeriod')}"
					th:errors="*{startPeriod}"
					class="err"
				></span>
			</p>
			<p>
				<input
					type="hidden"
					th:field="*{endPeriod}"
					class="form"
					style="text-align: center;"
				>
				<span
					th:if="${#fields.hasErrors('endPeriod')}"
					th:errors="*{endPeriod}"
					class="err"
				></span>
			</p>
			<p>
				<input
					type="hidden"
					th:field="*{value}"
					class="form16"
					style="text-align: center;"
				/>
				<span
					th:if="${#fields.hasErrors('value')}"
					th:errors="*{value}"
					class="err"
				></span>
			</p>
			<p style="display: none;">
				<input
					type="radio"
					th:field="*{unit}"
					name="unit"
					value="10"
					onclick="return false;"
					checked
					style="text-align: center;"
				/>
				<input
					type="radio"
					th:field="*{unit}"
					name="unit"
					onclick="return false;"
					value="100"
					style="text-align: center;"
				/>
			</p>
			<p class="center">
				検収年月　　　　
				<input
					type="month"
					name="acceptanceDate"
					class="form6"
					id="accept"
					min=""
					max=""
					style="text-align: center;"
					required
				>
			</p>
			<p class="center">
				実働日数　　　　
				<input
					type="tel"
					name="workingDay"
					class="form8"
					maxlength="2"
					placeholder="1日入場以外は入力必須"
					style="text-align: center;"
					autocomplete="off"
				>
				　日
			</p>
			<p class="center">
				実働時間　　　　
				<input
					type="tel"
					name="actualWorkingHours"
					class="form9"
					style="text-align: center;"
					maxlength="7"
					required
					autocomplete="off"
				>
				　時間
			</p>
			<input
				type="hidden"
				th:field="*{number}"
				class="form"
				style="text-align: center;"
			/>
			<p
				class="center"
				style="visibility: collapse;"
			>
				お支払い条件　　
				<select
					th:field="*{payment}"
					id="changeSelect"
					class="form"
					style="visibility: hidden;
					text-align: center;"
					onchange="choiceChanges();"
				>
					<option value="月末締め翌月末日">月末締め翌月末日</option>
					<option
						value="月末締め翌々月5日"
						selected
					>月末締め翌々月5日</option>
					<option
						value="月末締め翌々月10日"
						selected
					>月末締め翌々月10日</option>
					<option value="月末締め翌々月15日">月末締め翌々月15日</option>
					<option value="その他">その他</option>
				</select>
			<p
				class="center"
				style="display: none;"
			>
				<select
					th:field="*{paymentMonth}"
					size="1"
					style="text-align: center;"
				>
					<option value="月末締め翌月">月末締め翌月</option>
					<option value="月末締め翌々月">月末締め翌々月</option>
				</select>
				　の
				<input
					type="text"
					th:field="*{paymentDay}"
					size="2"
					style="text-align: center;"
					class="form13"
				>
				日払い
			</p>
			<p
				class="center"
				style="display: none;"
			>
				　　　　　　基準時間　　　　
				<input
					type="radio"
					class="js-check"
					th:field="*{referenceTime}"
					name="referencetime"
					value="固定"
					required
					onclick="formSwitch()"
					style="text-align: center;"
				/>
				固定　　
				<input
					type="radio"
					th:field="*{referenceTime}"
					name="referencetime"
					value="精算"
					class="js-check"
					onclick="formSwitch()"
					style="text-align: center;"
				/>
				精算　　　　　　　　　　　
			</p>
			<div
				id="referencetime"
				class="center"
			>
				<p
					class="center"
					style="display: none;"
				>
					<input
						type="tel"
						th:field="*{lowerLimitTime}"
						maxlength="3"
						class="form10"
						style="text-align: center;"
					/>
					h　～　
					<input
						type="tel"
						th:field="*{upperLimitTime}"
						maxlength="3"
						class="form10"
						style="text-align: center;"
					/>
					h
				</p>
				<p
					class="center"
					style="display: none;"
				>
					※中割計算
					<input
						type="checkbox"
						th:field="*{middleDiscount}"
						name="othertext"
						value="中割"
						style="text-align: center;"
					/>
				</p>
				<p
					class="center"
					style="display: none;"
				>
					<input
						type="radio"
						th:field="*{unit}"
						value="10"
						style="text-align: center;"
					/>
					10円未満切り捨て
					<br>
					<input
						type="radio"
						th:field="*{unit}"
						value="100"
						style="text-align: center;"
					/>
					100円未満切り捨て　
					<input
						type="checkbox"
						th:field="*{thousandCuts}"
						name="othertext"
						value="1000"
						style="text-align: center;"
					/>
				</p>
			</div>
			<input
				th:if="${title}=='　　　　 請求データ入力 　　　　'"
				type="submit"
				value="作成"
				onclick="change()"
				class="BUTTON3"
			/>
		</form>
		<!-- 請求データ作成画面2 -->
		<form
			th:action="@{/insertInvoice}"
			th:object="${form}"
			th:if="${title}=='  　　　 請求データ入力 　　　　'"
			method="post"
		>
			<!-- 請求データ入力内容 -->
			<p class="center">
				見積書No　　　　
				<input
					type="text"
					th:field="*{number}"
					disabled
					class="form4"
					style="text-align: center;"
				/>
				-
				<input
					type="text"
					id="mBranchNumber"
					disabled
					th:field="*{mBranchNumber}"
					class="form7"
					style="text-align: center;"
					required
				>
				-
				<input
					type="text"
					name="sBranchNumber"
					class="form7"
					maxlength="3"
					style="text-align: center;"
					autocomplete="off"
					required
				>
				<span
					th:if="${#fields.hasErrors('sBranchNumber')}"
					th:errors="*{sBranchNumber}"
					class="err"
				></span>
			</p>
			<p class="center">
				<input
					type="hidden"
					th:field="*{mauthor}"
					class="form"
					style="text-align: center;"
				/>
			</p>
			<p class="center">
				作成者　　　　　
				<input
					type="text"
					th:field="*{sauthor}"
					class="form6"
					maxlength="20"
					required
					style="text-align: center;"
				/>
			</p>
			<p class="center">
				期間　　　　　　
				<input
					type="text"
					th:value="*{startPeriodYear}+'年'+*{correctSPM}+'月'+*{correctSPD}+'日～'+*{endPeriodYear}+'年'+*{correctEPM}+'月'+*{correctEPD}+'日'"
					disabled
					class="form6"
					style="text-align: center;"
				/>
			</p>
			<p class="center">
				<input
					type="hidden"
					th:field="*{mDate}"
					class="form"
					style="text-align: center;"
				/>
			</p>
			<p>
				<input
					type="hidden"
					th:field="*{company}"
					class="form"
					style="text-align: center;"
				/>
				<span
					th:if="${#fields.hasErrors('company')}"
					th:errors="*{company}"
					class="err"
				></span>
			</p>
			<p>
				<input
					type="hidden"
					th:field="*{project}"
					class="form"
					style="text-align: center;"
				/>
				<span
					th:if="${#fields.hasErrors('project')}"
					th:errors="*{project}"
					class="err"
				></span>
			</p>
			<p>
				<input
					type="hidden"
					th:field="*{name}"
					class="form"
					style="text-align: center;"
				/>
				<span
					th:if="${#fields.hasErrors('name')}"
					th:errors="*{name}"
					class="err"
				></span>
			</p>
			<p>
				<input
					type="hidden"
					th:field="*{startPeriod}"
					class="form"
					style="text-align: center;"
				>
				<span
					th:if="${#fields.hasErrors('startPeriod')}"
					th:errors="*{startPeriod}"
					class="err"
				></span>
			</p>
			<p>
				<input
					type="hidden"
					th:field="*{endPeriod}"
					class="form"
					style="text-align: center;"
				>
				<span
					th:if="${#fields.hasErrors('endPeriod')}"
					th:errors="*{endPeriod}"
					class="err"
				></span>
			</p>
			<p>
				<input
					type="hidden"
					th:field="*{value}"
					class="form16"
					style="text-align: center;"
				/>
				<span
					th:if="${#fields.hasErrors('value')}"
					th:errors="*{value}"
					class="err"
				></span>
			</p>
			<p style="display: none;">
				<input
					type="radio"
					th:field="*{unit}"
					name="unit"
					value="10"
					onclick="return false;"
					checked
					style="text-align: center;"
				/>
				<input
					type="radio"
					th:field="*{unit}"
					name="unit"
					onclick="return false;"
					value="100"
					style="text-align: center;"
				/>
			</p>
			<p class="center">
				検収年月　　　　
				<input
					type="month"
					name="acceptanceDate"
					class="form6"
					required
					min=""
					max=""
					id="accept"
					style="text-align: center;"
				>
			</p>
			<p class="center">
				実働日数　　　　
				<input
					type="tel"
					name="workingDay"
					class="form8"
					maxlength="2"
					placeholder="1日入場以外は入力必須"
					style="text-align: center;"
					autocomplete="off"
				>
				　日
			</p>
			<p class="center">
				実働時間　　　　
				<input
					type="tel"
					name="actualWorkingHours"
					class="form9"
					style="text-align: center;"
					maxlength="7"
					autocomplete="off"
					required
				>
				　時間
			</p>
			<input
				type="hidden"
				th:field="*{number}"
				class="form"
			/>
			<p
				class="center"
				style="visibility: collapse;"
			>
				お支払い条件　　
				<select
					th:field="*{payment}"
					id="changeSelect"
					class="form"
					style="visibility: hidden;
					text-align: center;"
					onchange="choiceChanges();"
				>
					<option value="月末締め翌月末日">月末締め翌月末日</option>
					<option
						value="月末締め翌々月5日"
						selected
					>月末締め翌々月5日</option>
					<option
						value="月末締め翌々月10日"
						selected
					>月末締め翌々月10日</option>
					<option value="月末締め翌々月15日">月末締め翌々月15日</option>
					<option value="その他">その他</option>
				</select>
			<p
				class="center"
				style="display: none;"
			>　　　　　　　　
				<select
					th:field="*{paymentMonth}"
					size="1"
					style="text-align: center;"
				>
					<option value="月末締め翌月">月末締め翌月</option>
					<option value="月末締め翌々月">月末締め翌々月</option>
				</select>
				　の
				<input
					type="text"
					th:field="*{paymentDay}"
					size="2"
					style="text-align: center;"
					class="form13"
				>
				日払い
			</p>
			<p
				class="center"
				style="display: none;"
			>
				　　　　　　基準時間　　　　
				<input
					type="radio"
					class="js-check"
					th:field="*{referenceTime}"
					name="referencetime"
					value="固定"
					required
					onclick="formSwitch()"
					style="text-align: center;"
				/>
				固定　　
				<input
					type="radio"
					th:field="*{referenceTime}"
					name="referencetime"
					value="精算"
					class="js-check"
					onclick="formSwitch()"
					style="text-align: center;"
				/>
				精算　　　　　　　　　　　
			</p>
			<div
				id="referencetime"
				class="center"
			>
				<p
					class="center"
					style="display: none;"
				>
					<input
						type="tel"
						th:field="*{lowerLimitTime}"
						maxlength="3"
						class="form10"
						style="text-align: center;"
					/>
					h　～　
					<input
						type="tel"
						th:field="*{upperLimitTime}"
						maxlength="3"
						class="form10"
						style="text-align: center;"
					/>
					h
				</p>
				<p
					class="center"
					style="display: none;"
				>
					　※中割計算
					<input
						type="checkbox"
						th:field="*{middleDiscount}"
						name="othertext"
						value="中割"
						style="text-align: center;"
					/>
				</p>
				<p
					class="center"
					style="display: none;"
				>
					<input
						type="radio"
						th:field="*{unit}"
						value="10"
						style="text-align: center;"
					/>
					10円未満切り捨て
					<br>
					<input
						type="radio"
						th:field="*{unit}"
						value="100"
						style="text-align: center;"
					/>
					100円未満切り捨て　
					<input
						type="checkbox"
						th:field="*{thousandCuts}"
						name="othertext"
						value="1000"
						style="text-align: center;"
					/>
				</p>
			</div>
			<input
				type="submit"
				value="作成"
				onclick="change()"
				class="BUTTON3"
			/>
		</form>
		<!-- 復元確認画面 -->
		<form
			th:action="@{/restoreData}"
			th:object="${form}"
			th:if="${title}=='　　　　　　復元確認　　　　　　'"
			method="post"
			name="form1"
			action=""
		>
			<!-- 復元確認内容 -->
			<p class="center">
				見積書No　　　　
				<input
					type="text"
					th:field="*{number}"
					class="form4"
					disabled
					style="text-align: center;"
					required
				/>
				-
				<select
					th:field="*{mBranchNumber}"
					class="form14"
					disabled
					onchange="clearTextarea()"
					size="1"
					style="text-align: center;"
					required
				>
					<option value="1">1</option>
					<option value="2">2</option>
					<option value="3">3</option>
					<option value="4">4</option>
					<option value="5">5</option>
					<option value="6">6</option>
					<option value="7">7</option>
					<option value="8">8</option>
					<option value="9">9</option>
					<option value="10">10</option>
					<option value="11">11</option>
					<option value="12">12</option>
					<option value="13">13</option>
					<option value="14">14</option>
					<option value="15">15</option>
					<option value="16">16</option>
					<option value="17">17</option>
					<option value="18">18</option>
					<option value="19">19</option>
					<option value="20">20</option>
					<option value="21">21</option>
					<option value="22">22</option>
					<option value="23">23</option>
					<option value="24">24</option>
					<option value="25">25</option>
					<option value="26">26</option>
					<option value="27">27</option>
					<option value="28">28</option>
					<option value="29">29</option>
					<option value="30">30</option>
					<option value="31">31</option>
					<option value="32">32</option>
					<option value="33">33</option>
					<option value="34">34</option>
					<option value="35">35</option>
					<option value="36">36</option>
					<option value="37">37</option>
					<option value="38">38</option>
					<option value="39">39</option>
					<option value="40">40</option>
					<option value="41">41</option>
					<option value="42">42</option>
					<option value="43">43</option>
					<option value="44">44</option>
					<option value="45">45</option>
					<option value="46">46</option>
					<option value="47">47</option>
					<option value="48">48</option>
					<option value="49">49</option>
					<option value="50">50</option>
				</select>
				<input
					type="hidden"
					th:field="*{sBranchNumber}"
					class="form14"
					maxlength="3"
					style="text-align: center;"
				/>
				<span
					th:if="${#fields.hasErrors('number')}"
					th:errors="*{number}"
					class="err"
				></span>
			</p>
			<p class="center">
				作成者　　　　　
				<input
					type="text"
					disabled
					readonly
					th:field="*{mauthor}"
					class="form"
					required
					style="text-align: center;"
				/>
				<span
					th:if="${#fields.hasErrors('mauthor')}"
					th:errors="*{mauthor}"
					class="err"
				></span>
			</p>
			<div id="a">
				<p class="center">
					作成日　　　　　
					<input
						type="date"
						disabled
						id="mdate"
						th:field="*{mDate}"
						class="form"
						readonly
						required
						max="9999-12-31"
						style="text-align: center;"
					/>
				</p>
			</div>
			<p class="center">
				得意先名　　　　
				<input
					type="text"
					disabled
					th:field="*{company}"
					class="form"
					readonly
					style="text-align: center;"
					required
				/>
				<span
					th:if="${#fields.hasErrors('company')}"
					th:errors="*{company}"
					class="err"
				></span>
			</p>
			<p class="center">
				プロジェクト名　
				<input
					type="text"
					disabled
					th:field="*{project}"
					class="form"
					readonly
					style="text-align: center;"
					required
				/>
				<span
					th:if="${#fields.hasErrors('project')}"
					th:errors="*{project}"
					class="err"
				></span>
			</p>
			<p class="center">
				作業者名　　　　
				<input
					type="text"
					disabled
					th:field="*{name}"
					class="form"
					readonly
					style="text-align: center;"
					required
				/>
				<span
					th:if="${#fields.hasErrors('name')}"
					th:errors="*{name}"
					class="err"
				></span>
			</p>
			<label class="center">
				期間開始日　　　
				<input
					type="date"
					disabled
					th:field="*{startPeriod}"
					id="start"
					class="form"
					readonly
					required
					max="9999-12-31"
					style="text-align: center;"
				/>
				<span
					th:if="${#fields.hasErrors('startPeriod')}"
					th:errors="*{startPeriod}"
					class="err"
				></span>
			</label>
			<br>
			<label class="center">
				期間終了日　　　
				<input
					type="date"
					disabled
					th:field="*{endPeriod}"
					id="end"
					class="form"
					readonly
					required
					max="9999-12-31"
					style="text-align: center;"
				/>
				<span
					th:if="${#fields.hasErrors('endPeriod')}"
					th:errors="*{endPeriod}"
					class="err"
				></span>
			</label>
			<div class="renewalPaymentTerms">
				<p class="center">
					お支払い条件　　
					<select
						th:field="*{payment}"
						id="otherseLectionChanges"
						class="form"
						style="text-align: center;"
						name="hoge"
						onchange="changePaymentDateSelection();"
						disabled
					>
						<option value="月末締め翌月末日">月末締め翌月末日</option>
						<option
							value="月末締め翌々月5日"
							selected
						>月末締め翌々月5日</option>
						<option
							value="月末締め翌々月10日"
							selected
						>月末締め翌々月10日</option>
						<option value="月末締め翌々月15日">月末締め翌々月15日</option>
						<option value="その他">その他</option>
					</select>
			</div>
			<div id="changePaymentDate">
				<p class="center">　　　　　　　　　
					<select
						th:field="*{paymentMonth}"
						disabled
						size="1"
						id="paymentMonth"
						style="text-align: center;"
					>
						<option value="月末締め翌月">月末締め翌月</option>
						<option value="月末締め翌々月">月末締め翌々月</option>
					</select>
					の
					<input
						type="text"
						th:field="*{paymentDay}"
						class="form13"
						readonly
						style="text-align: center;"
						id="paymentDay"
						disabled
					>
					日払い
				</p>
			</div>
			<p class="center">
				　　　　 　 　基準時間 　　　
				<input
					type="radio"
					class="js-check"
					th:field="*{referenceTime}"
					name="referencetime"
					value="固定"
					required
					onclick="formSwitch()"
					style="text-align: center;"
					readonly="readonly"
					disabled
				/>
				固定　　
				<input
					type="radio"
					th:field="*{referenceTime}"
					name="referencetime"
					value="精算"
					class="js-check"
					onclick="formSwitch()"
					readonly="readonly"
					style="text-align: center;"
					disabled
				/>
				精算　　　　　　　　　　　
			</p>
			<div
				id="referencetime"
				class="center"
			>
				<p class="center">　　　　　　　　　
					<input
						type="tel"
						disabled
						th:field="*{lowerLimitTime}"
						maxlength="3"
						class="form10"
						readonly
						id="lowerLimitTime"
						name="othertext"
						style="text-align: center;"
					/>
					h　～　
					<input
						type="tel"
						disabled
						th:field="*{upperLimitTime}"
						maxlength="3"
						class="form10"
						id="upperLimitTime"
						name="othertext"
						style="text-align: center;"
						readonly
					/>
					h
				</p>
				<p class="center">
					　※中割計算
					<input
						type="checkbox"
						disabled
						th:field="*{middleDiscount}"
						onclick="return false;"
						id="middleDiscount"
						name="othertext"
						value="中割"
						style="text-align: center;"
					/>
				</p>
				<p class="center">
					　　　　　　　控除・超過単価切り捨て単位
					<br>
					　　　 <input
						type="radio"
						th:field="*{unit}"
						name="unit"
						value="10"
						onclick="return false;"
						style="text-align: center;"
						disabled
					/>
					10円未満切り捨て
					<br>
					　　　　　<input
						type="radio"
						th:field="*{unit}"
						name="unit"
						onclick="return false;"
						value="100"
						style="text-align: center;"
						disabled
					/>
					100円未満切り捨て　
				</p>
			</div>
			<div class="center">
				単価（税抜き）　
				<input
					type="tel"
					disabled
					readonly
					data-type="number"
					th:field="*{value}"
					class="form16"
					style="text-align: center;"
					autocomplete="off"
					required
				/>
				<span
					th:if="${#fields.hasErrors('value')}"
					th:errors="*{value}"
					class="err"
				></span>　
				<div>
					<br> 　　　　
					<input
						type="checkbox"
						th:field="*{thousandCuts}"
						name="othertext"
						value="1000"
						disabled
						style="text-align: center;"
					/>
					1000円未満切り捨て
					<br>　　　　　　　　　　　　　　　
					※期間開始開始日が平日の1日でない月のみ反映されます。
				</div>
			</div>
			<th:block
				th:if="${form.acceptanceDate != null}"
			>
				<p class="center">
					<input
						type="hidden"
						th:field="*{acceptanceDate}"
						class="form"
						readonly
						style="text-align: center;"
					>
				</p>
				<!-- 処理 -->
			</th:block>
			<p class="center">
				<input
					type="hidden"
					th:field="*{workingDay}"
					class="form"
					style="text-align: center;"
				>
			</p>
			<p class="center">
				<input
					type="hidden"
					th:field="*{sauthor}"
					class="form6"
					style="text-align: center;"
				/>
			</p>
			<p
				th:if="${form.referenceTime != '固定'}"
				class="center"
			>
				<input
					type="hidden"
					th:field="*{actualWorkingHours}"
					class="form9"
					style="text-align: center;"
				>
			</p>
			<input
				type="hidden"
				th:field="*{number}"
				class="form"
			/>
			<input
				type="submit"
				value="復元"
				class="BUTTON3"
			/>
		</form>
		<!-- 削除確認画面2 -->
		<div
			th:object="${form}"
			th:if="${title}=='　　　　　　完全削除　　　　　　'"
			class="center"
		>
			<!-- 削除画面内容 -->
			<p class="center">
				見積書No　　　　
				<input
					type="text"
					th:field="*{number}"
					disabled
					class="form4"
					style="text-align: center;"
					required
				/>
				-
				<input
					type="text"
					th:field="*{mBranchNumber}"
					disabled
					class="form15"
					required
					maxlength="1"
					style="text-align: center;"
				/>
			<p class="center">
				作成者　　　　　
				<input
					type="text"
					th:field="*{mauthor}"
					class="form"
					required
					style="text-align: center;"
					disabled
				/>
			</p>
			<p class="center">
				作成日　　　　　
				<input
					type="date"
					th:field="*{mDate}"
					disabled
					class="form"
					style="text-align: center;"
					required
				/>
			</p>
			<p class="center">
				得意先名　　　　
				<input
					type="text"
					th:field="*{company}"
					disabled
					class="form"
					style="text-align: center;"
					required
				/>
				<span
					th:if="${#fields.hasErrors('company')}"
					th:errors="*{company}"
					class="err"
				></span>
			</p>
			<p class="center">
				プロジェクト名　
				<input
					type="text"
					th:field="*{project}"
					disabled
					class="form"
					style="text-align: center;"
					required
				/>
				<span
					th:if="${#fields.hasErrors('project')}"
					th:errors="*{project}"
					class="err"
				></span>
			</p>
			<p class="center">
				作業者名　　　　
				<input
					type="text"
					th:field="*{name}"
					disabled
					class="form"
					style="text-align: center;"
					required
				/>
				<span
					th:if="${#fields.hasErrors('name')}"
					th:errors="*{name}"
					class="err"
				></span>
			</p>
			<p class="center">
				期間開始日　　　
				<input
					type="date"
					th:field="*{startPeriod}"
					disabled
					class="form"
					style="text-align: center;"
					required
				/>
				<span
					th:if="${#fields.hasErrors('startPeriod')}"
					th:errors="*{startPeriod}"
					class="err"
				></span>
			</p>
			<p class="center">
				期間終了日　　　
				<input
					type="date"
					th:field="*{endPeriod}"
					disabled
					class="form"
					style="text-align: center;"
					required
				/>
				<span
					th:if="${#fields.hasErrors('endPeriod')}"
					th:errors="*{endPeriod}"
					class="err"
				></span>
			</p>
			<p class="center">
				お支払い条件　　
				<select
					th:field="*{payment}"
					id="paymentdate"
					disabled
					size="1"
					class="form"
					style="text-align: center;"
					onchange="entryChange2();"
				>
					<option value="月末締め翌月末日">月末締め翌月末日</option>
					<option value="月末締め翌々月5日">月末締め翌々月5日</option>
					<option value="月末締め翌々月10日">月末締め翌々月10日</option>
					<option value="月末締め翌々月15日">月末締め翌々月15日</option>
					<option value="その他">その他</option>
				</select>
			</p>
			<p
				th:if="${(form.payment == 'その他')}"
				class="center">　　　　　　　　　
				<select
					th:field="*{paymentMonth}"
					disabled
					size="1"
					style="text-align: center;"
				>
					<option value="月末締め翌月">月末締め翌月</option>
					<option value="月末締め翌々月">月末締め翌々月</option>
				</select>
				の
				<input
					type="text"
					th:field="*{paymentDay}"
					class="form13"
					size="2"
					style="text-align: center;"
					disabled
				>
				日払い
			</p>
			<p class="center">
				　　　　 　 　基準時間 　　　
				<input
					type="radio"
					disabled
					class="js-check"
					th:field="*{referenceTime}"
					name="referencetime"
					value="固定"
					onclick="formSwitch()"
					checked
					style="text-align: center;"
				/>
				固定　　
				<input
					type="radio"
					disabled
					th:field="*{referenceTime}"
					name="referencetime"
					value="精算"
					class="js-check"
					onclick="formSwitch()"
					style="text-align: center;"
				/>
				精算　　　　　　　　　　　
			</p>
			<div id="referencetime">
				<p
					class="center"
					th:if="${(form.referenceTime == '精算')}"
				>　　　　　　　　　
					<input
						type="tel"
						th:field="*{lowerLimitTime}"
						maxlength="3"
						class="form10"
						style="text-align: center;"
						disabled
					/>
					h　～　
					<input
						type="tel"
						th:field="*{upperLimitTime}"
						maxlength="3"
						class="form10"
						style="text-align: center;"
						disabled
					/>
					h
				</p>
				<p
					class="center"
					th:if="${(form.referenceTime == '精算')}"
				>
					　※中割計算
					<input
						type="checkbox"
						th:field="*{middleDiscount}"
						value="中割"
						style="text-align: center;"
						disabled
					/>
				</p>
				<p class="center">
					　　　　　　　控除・超過単価切り捨て単位
					<br>
					　　　 <input
						type="radio"
						th:field="*{unit}"
						value="10"
						disabled
						style="text-align: center;"
					/>
					10円未満切り捨て
					<br>
					　　　　　<input
						type="radio"
						th:field="*{unit}"
						disabled
						value="100"
						style="text-align: center;"
					/>
					100円未満切り捨て　
					<br>
				</p>
			</div>
			<div class="center">
				単価（税抜き）　
				<input
					type="tel"
					disabled
					readonly
					data-type="number"
					th:field="*{value}"
					class="form16"
					style="text-align: center;"
					autocomplete="off"
					required
				/>
				<span
					th:if="${#fields.hasErrors('value')}"
					th:errors="*{value}"
					class="err"
				></span>　
				<div>
					<br> 　　　　
					<input
						type="checkbox"
						th:field="*{thousandCuts}"
						name="othertext"
						value="1000"
						disabled
						style="text-align: center;"
					/>
					1000円未満切り捨て
					<br>　　　　　　　　　　　　　　　
					※期間開始日が平日の1日でない月のみ反映されます。
				</div>
			</div>
			<br>
			<form
				th:if="${title}=='　　　　　　完全削除　　　　　　'"
				th:action="@{/completeDelete}"
				onsubmit="return beforeSubmit2()"
			>
				<input
					type="hidden"
					th:field="${form.number}"
					style="text-align: center;"
				/>
				<input
					type="submit"
					value="削除実行"
					class="BUTTON3"
				/>
			</form>
			<br>
		</div>
		<script type="text/javascript">
			function beforeSubmit() {
				if (window.confirm('本当に削除しますか？')) {
					return true;
				} else {
					return false;
				}
			}
			function beforeSubmit2() {
				if (window
						.confirm('データを完全に削除しますか?\r\n※削除するとデータは復元できません')) {
					return true;
				} else {
					return false;
				}
			}
		</script>
		<script>
			/* テキストボックスを取得 */
			var NBR = document
					.querySelectorAll("[data-type='number']");
			/* イベント操作 */
			for (var i = 0; i < NBR.length; i++) {
				NBR[i].oninput = fmtInput
			}
			/* 入力時に実行する処理 */
			function fmtInput(evt) {
				var target = evt.target;
				var data = target.value[target.value.length - 1];
				if (!data.match(/[0-9]/)) {
					target.value = target.value
							.slice(
									0,
									target.value.length - 1);
				}
				target.value = target.value
						.replace(/,/g, '')
						.replace(
								/(\d)(?=(\d\d\d)+(?!\d))/g,
								'$1,');
			}
		</script>
		<script>
			var start = document
					.getElementById('start');
			var end = document
					.getElementById('end');
			start
					.addEventListener(
							'change',
							function() {
								if (start.value)
									end.min = start.value;
							}, false);
			end
					.addEventLiseter(
							'change',
							function() {
								if (end.value)
									start.max = end.value;
							}, false);
		</script>
	</div>
	
	<!-- 請求データ作成画面 期間内のみ研修年月選択可能 -->
	<script th:inline="javascript">
		var min = /*[[${form.startPeriodNullDay}]]*/'5';
		var max = /*[[${form.endPeriodNullDay}]]*/'5';
		document.getElementById("accept")
				.setAttribute("min", min);
		document.getElementById("accept")
				.setAttribute("max", max);
	</script>
	
	<!-- 更新時 作成日・期間開始・期間終了のリセット -->
	<script type="text/javascript">
		function clearTextarea() {
			var textareaForm = document
					.getElementById("mdate");
			textareaForm.value = '';
			var textareaForm = document
					.getElementById("start");
			textareaForm.value = '';
			var textareaForm = document
					.getElementById("end");
			textareaForm.value = '';
		}
	</script>
	
	<!-- 基準時間 精算有りの場合 -->
	<script type="text/javascript">
		var selecterBox = document
				.getElementById('referencetime'); //時間幅入力欄
		//基準時間が「固定」か「精算」かで条件分岐を行う
		function formSwitch() {
			check = document
					.getElementsByClassName('js-check')
			if (check[0].checked) {
				selecterBox.style.display = "none";
			} else if (check[1].checked) {
				selecterBox.style.display = "block";
			} else {
				selecterBox.style.display = "none";
			}
		}
		//画面の読込みが完了した時に上記のイベントを実行
		window.addEventListener('load',
				formSwitch());
	</script>
	
	<!-- 新規入力 時間幅入力フォームの表示 -->
	<script type="text/javascript">
		var selecter = document
				.getElementById('changeSelect'); //お支払日入力フォーム(選択)
		var newBox = document
				.getElementById('newBox'); //お支払日入力フォーム(手動)
		newBox.style.display = "none"; //お支払日入力フォーム(手動)は隠しておく
		//お支払日入力フォーム(選択)で選択した内容によって条件分岐を行う
		function choiceChanges() {
			if (document
					.getElementById('changeSelect')) {
				newSelect = document
						.getElementById('changeSelect').value;
				if (newSelect == '月末締め翌月末日') {
					newBox.style.display = "none";
				} else if (newSelect == '月末締め翌々月5日') {
					newBox.style.display = "none";
				} else if (newSelect == '月末締め翌々月10日') {
					newBox.style.display = "none";
				} else if (newSelect == '月末締め翌々月15日') {
					newBox.style.display = "none";
				} else if (newSelect == 'その他') {
					newBox.style.display = "block";
				} else {
					newBox.style.display = "none";
				}
			}
		}
		//画面の読込みが完了した時に上記のイベントを実行
		window.addEventListener('load',
				choiceChanges());
	</script>
	
	<!-- 更新 時間幅入力フォームの表示 -->
	<script type="text/javascript">
		var payment = /*[[${form.payment}]]*/'10'; //お支払日
		var otherseLectionChanges = document
				.getElementById('otherseLectionChanges');//お支払日入力フォーム(選択)
		var changePaymentDate = document
				.getElementById('changePaymentDate');//お支払日入力フォーム(手動)
		//お支払日がその他以外の時は、お支払日入力フォーム(手動)を隠しておく
		if (payment != 'その他') {
			changePaymentDate.style.display = "none";
		}
		//お支払日入力フォーム(選択)で選択した内容によって条件分岐を行う
		function changePaymentDateSelection() {
			if (document
					.getElementById('otherseLectionChanges')) {
				changeSelect = document
						.getElementById('otherseLectionChanges').value;
				if (changeSelect == '月末締め翌月末日') {
					changePaymentDate.style.display = "none";
				} else if (changeSelect == '月末締め翌々月5日') {
					changePaymentDate.style.display = "none";
				} else if (changeSelect == '月末締め翌々月10日') {
					changePaymentDate.style.display = "none";
				} else if (changeSelect == '月末締め翌々月15日') {
					changePaymentDate.style.display = "none";
				} else if (changeSelect == 'その他') {
					changePaymentDate.style.display = "block";
				} else {
					changePaymentDate.style.display = "none";
				}
			}
		}
		//画面の読込みが完了した時に上記のイベントを実行
		window.addEventListener('load',
				changePaymentDateSelection());
	</script>
	
	<!-- フォーカス移動(Enterキー操作) -->
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
	<script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js"></script>
	<script>    
		$(()=>{
			// :focusable はマイナスのtabindexを含む
			//  ⇒enter時に次項目へ移動するためのイベント対象のため含めている。
			const elements = ':focusable:not(a)';
			$(elements).keypress((e)=>{
				if(e.key === 'Enter' || e.key === '\n'){
					if(e.ctrlKey && e.target.tagName === 'TEXTAREA'){
						// Ctrl＋Enterで改行処理を行う
						const t = e.target;           
						const{selectionStart:start,selectionEnd:end} = t;
						t.value =`${t.value.slice(0,start)}\n${t.value.slice(end)}`;
						t.selectionStart = t.selectionEnd = start + 1;             
						return;
					}else if(e.ctrlKey){
						return;
					}
					
					// submitしない
					e.preventDefault();
					//focus可能な項目が入れ子になっている場合、targetのみで処理する
					e.stopPropagation();
					
					// tabindex順に移動するためソート
					let sortedList = $(elements).sort((a,b)=>{
						if(a.tabIndex && b.tabIndex){
							return a.tabIndex - b.tabIndex; 
						}else if(a.tabIndex && !b.tabIndex){
							return -1;
						}else if(!a.tabIndex && b.tabIndex){
							return 1;
						}
							return 0;
						});
						
						if(e.target.tabIndex < 0){
							// tabindexがマイナスの場合、DOM上で次の項目へ移動するためソート前の項目から検索する
							sortedList = elements;
						}
						
						// 現在の項目位置から、移動先を取得する
						const index = $(sortedList).index(e.target);
						const nextFilter = e.shiftKey ? `:lt(${index}):last` : `:gt(${index}):first`;            
						const nextTarget = $(sortedList).filter(nextFilter);
						
						// shift + enterでtagindexがマイナスの項目へ移動するのを防ぐ
						if(!nextTarget.length || nextTarget[0].tabIndex < 0)return;
						
						// フォーカス移動＋文字列選択
						nextTarget.focus();
						if(typeof nextTarget.select === 'function' && nextTarget[0].tagName === 'INPUT'){
							nextTarget.select();
						}
					}
				});
			});
	</script>
	
	<script language="JavaScript">
		var refinfo = document.referrer;
		if(!refinfo) {
			window.location.href = 'http://localhost:8080/';
			window.location.href = 'http://192.168.0.103:8080/';
		}
	</script>
</body>
</html>
